# gulp-dry [![NPM version](https://img.shields.io/npm/v/gulp-dry.svg?style=flat)](https://www.npmjs.com/package/gulp-dry) [![NPM downloads](https://img.shields.io/npm/dm/gulp-dry.svg?style=flat)](https://npmjs.org/package/gulp-dry) [![Build Status](https://img.shields.io/travis/jonschlinkert/gulp-dry.svg?style=flat)](https://travis-ci.org/jonschlinkert/gulp-dry)

Gulp plugin for Dry, a new template engine with advanced inheritance features.

## Table of Contents

- [Install](#install)
- [Usage](#usage)
- [Examples](#examples)
  * [Blocks](#blocks)
  * [Layouts](#layouts)
  * [Layout body block](#layout-body-block)
  * [Layout body block](#layout-body-block-1)
- [About](#about)
  * [Related projects](#related-projects)
  * [Contributing](#contributing)
  * [Building docs](#building-docs)
  * [Running tests](#running-tests)
  * [Author](#author)
  * [License](#license)

_(TOC generated by [verb](https://github.com/verbose/verb) using [markdown-toc](https://github.com/jonschlinkert/markdown-toc))_

## Install

Install with [npm](https://www.npmjs.com/):

```sh
$ npm install --save gulp-dry
```

## Usage

```js
var dry = require('gulp-dry');

gulp.task('default', function() {
  return gulp.src('*.html')
    .pipe(dry({files: ['block/templates/*.hbs']}))
    .pipe(dest('site'));
});
```

## Examples

Visit [dry](https://github.com/jonschlinkert/dry) for more information.

### Blocks

Define blocks in a template:

```html
<!-- parent.html -->
<!DOCTYPE html>
  <html lang="en">
  <head>
    {% block "head" %}
    <meta charset="UTF-8">
    <title>Document</title>
    {% endblock %}
  </head>
  <body>
    {% block "body" %}
    Default body.
    {% endblock %}

    {% block "footer" %}
    Default footer.
    {% endblock %}
  </body>
</html>
```

You can extend the `parent.html` template like this:

```html
{% extends "parent.html" %}

{% block "head" %}
<meta charset="UTF-8">
<title>Inherited!</title>
<script src="script.js"></script>
{% endblock %}

{% block "body" %}
<div>This is the body</div>
{% endblock %}

{% block "footer" %}
<div>This is the footer</div>
{% endblock %}
```

Resulting in:

```html
<!-- parent.html -->
<!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Inherited!</title>
    <script src="script.js"></script>
  </head>
  <body>
    <div>This is the body</div>
    <div>This is the footer</div>
  </body>
</html>
```

### Layouts

Layouts are used for "wrapping" files with common code or content. Layouts can also use [blocks](#blocks), but the _strategy for merging them is different_. Unlike blocks, when using layouts:

* text nodes from child and parent templates are preserved
* text nodes from child templates that do not belong to a specific block will be rendered into the `body` block of the parent layout
* layouts may be defined using a `{% body %}` tag, **or** a `{% block "body" %} {% endblock %}` tag

### Layout body block

Example layout template with a `body` tag:

```html
<!-- some-layout.html -->
<!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Document</title>
  </head>
  <body>
    {% body %}
  </body>
</html>
```

When used by another template, like this:

```html
<!-- some-file.html -->
{% layout "some-layout.html" %}
This is content.
```

**Results in:**

```html
<!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Document</title>
  </head>
  <body>
    This is content.
  </body>
</html>
```

### Layout body block

If you need to define placeholder content, you can define a `block` instead:

```html
<!-- some-layout.html -->
<!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Document</title>
  </head>
  <body>
  {% block "body" %} 
  Default content.
  {% endblock %}
  </body>
</html>
```

When used by another template, like this:

```html
<!-- some-file.html -->
{% layout "some-layout.html" %}
This should overwrite the default content.
```

**Results in:**

```html
<!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Document</title>
  </head>
  <body>
    This should overwrite the default content.
  </body>
</html>
```

## About

### Related projects

* [dry](https://www.npmjs.com/package/dry): Template engine with support for block helpers, advanced inheritance features, and more. | [homepage](https://github.com/jonschlinkert/dry "Template engine with support for block helpers, advanced inheritance features, and more.")
* [is-glob](https://www.npmjs.com/package/is-glob): Returns `true` if the given string looks like a glob pattern or an extglob pattern… [more](https://github.com/jonschlinkert/is-glob) | [homepage](https://github.com/jonschlinkert/is-glob "Returns `true` if the given string looks like a glob pattern or an extglob pattern. This makes it easy to create code that only uses external modules like node-glob when necessary, resulting in much faster code execution and initialization time, and a bet")
* [matched](https://www.npmjs.com/package/matched): Adds array support to node-glob, sync and async. Also supports tilde expansion (user home) and… [more](https://github.com/jonschlinkert/matched) | [homepage](https://github.com/jonschlinkert/matched "Adds array support to node-glob, sync and async. Also supports tilde expansion (user home) and resolving to global npm modules.")

### Contributing

Pull requests and stars are always welcome. For bugs and feature requests, [please create an issue](../../issues/new).

### Building docs

_(This document was generated by [verb-generate-readme](https://github.com/verbose/verb-generate-readme) (a [verb](https://github.com/verbose/verb) generator), please don't edit the readme directly. Any changes to the readme must be made in [.verb.md](.verb.md).)_

To generate the readme and API documentation with [verb](https://github.com/verbose/verb):

```sh
$ npm install -g verb verb-generate-readme && verb
```

### Running tests

Install dev dependencies:

```sh
$ npm install -d && npm test
```

### Author

**Jon Schlinkert**

* [github/jonschlinkert](https://github.com/jonschlinkert)
* [twitter/jonschlinkert](http://twitter.com/jonschlinkert)

### License

Copyright © 2016, [Jon Schlinkert](https://github.com/jonschlinkert).
Released under the [MIT license](https://github.com/jonschlinkert/gulp-dry/blob/master/LICENSE).

***

_This file was generated by [verb-generate-readme](https://github.com/verbose/verb-generate-readme), v0.1.28, on August 09, 2016._